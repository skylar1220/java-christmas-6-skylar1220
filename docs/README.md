# 📌 핵심 기능: 날짜와 메뉴에 따라 누적된 할인 내역과 금액 도출하기!


# 👩‍💻프로그램 동작 흐름
- [x] 방문 날짜를 입력받는다.
- [x] 주문 메뉴와 개수를 입력 받는다. 
- [x] 주문 메뉴와 개수를 출력한다.
- [x] 할인 전 총 주문 금액을 출력한다.
- [x] 증정 메뉴를 출력한다.
- [x] 혜택 내역을 출력한다.
- [x] 총혜택 금액을 출력한다.
- [x] 할인 후 예상 결제 금액을 출력한다.
- [x] 12월 이벤트 배지를 출력한다.

# 📝기능 구현 목록

- 방문 날짜를 생성하는 기능
  - [x] 입력 받은 날짜를 통해 방문 날짜를 생성한다.
- 주문을 생성하는 기능
  - [x] 입력 받은 메뉴와 수량을 통해 주문을 생성한다. 
- 총 구매 금액을 계산하는 기능
  - [x] 주문 목록을 통해 총 구매 금액을 계산한다.
- 할인 항목과 금액을 계산하는 기능
  - [x] 주문 목록을 통해 할인 항목과 금액을 계산한다.
- 총 할인 금액을 계산하는 기능(증정 혜택 적용 전)
  - [x] 할인 항목과 금액을 통해 총 할인 금액을 계산한다.
- 증정 혜택을 부여하는 기능
  - [x] 할인 전 총 주문 금액을 통해 증정 혜택을 부여한다.
- 총 할인 금액을 계산하는 기능(증정 혜택 적용 후)
  - [x] 총 할인 금액에 증정 헤택을 더한 최종 할인 금액을 계산한다.
- 이벤트 배지를 부여하는 기능
  - [x] 총 혜택 금액을 통해 이벤트 배지를 부여한다.


## 🖨️ 입출력 기능

### 입력 기능

- [x] 방문 날짜 입력받는 기능 
- [x] 메뉴와 개수를 입력받는 기능  

### 출력 기능

- [x] 주문 메뉴 출력하는 기능
- [x] 할인 전 총주문 금액 출력하는 기능
- [x] 증정 메뉴 출력하는 기능
- [x] 혜택 내역 출력하는 기능
- [x] 총혜택 금액 출력하는 기능
- [x] 할인 후 예상 결제 금액 출력하는 기능
- [x] 12월 이벤트 배지 출력하는 기능

## ⚠️ 예외 처리  

- 방문 날짜 입력 받을 때: "[ERROR] 유효하지 않은 날짜입니다. 다시 입력해 주세요."
- [x] 방문 날짜 입력 형식의 유효성 검증
    - [x] 공백이 아닌지
    - [x] 숫자인지
    - [x] Integer 범위내 숫자인지
- [x] 방문 날짜의 유효성 검증
    - [x] 1 이상 31 이하의 숫자인지 


- 메뉴와 개수를 입력받을 때 :  "[ERROR] 유효하지 않은 주문입니다. 다시 입력해 주세요."
- [x] 입력 형식의 유효성 검증
  - [x] 메뉴-갯수 조합 모임 입력 형식의 유효성 검증
    - [x] 공백이 아닌지
    - [x] ","가 2번이상 연속으로 들어가지 않는지
    - [x] 맨 앞, 뒤에 ","가 있지 않은지
  - [x] 개별 메뉴-갯수 조합 입력 형식의 유효성 검증 
    - [x] "-"로 구분되어 들어오는지
    - [x] 맨 앞, 뒤에 "-"가 있지 않은지
    - [x] "-"가 2번이상 연속으로 들어가지 않는지
  - [x] 갯수 입력 형식의 유효성 검증
    - [x] 숫자인지
    - [x] Integer 범위내 숫자인지

- [x] 메뉴의 유효성 검증
  - [x] 메뉴판에 있는 메뉴인지

- [x] 갯수의 유효성 검증
  - [x] 1 이상인지

- [x] 메뉴-갯수 조합 모임의 유효성 검증
  - [x] 메뉴 갯수가 1~20개 사이인지
  - [x] 중복되는 메뉴가 없는지
  - [x] 음료만 주문하지는 않았는지


# 🛠 리팩토링 목록   
- [x] 예외 메시지 필요한 부분만 상수화
- [x] 숫자 리터럴 상수화
- [x] 컨트롤러 메소드 네이밍 정리 및 분리 개선  
- [x] OutputView 메소드 네이밍 정리 및 분리 개선  
- [x] 각 클래스의 책임 범위 위반한 것 없는지 점검하기
- [x] getter 리스트 레퍼런스에 unmodifaible 추가 
- [x] 생성자가 투명한지
- [x] 부생성자가 있는 경우 부생성자가 합당한지, 
- [x] 부생성자가 있는 경우 생성자의 접근제어자가 private인지
- [x] 객체 생성이 불필요한 경우 private 생성자가 있는지
- [x] 각 클래스 점검하기 
  - [x] 불필요한 public 접근제어자
  - [x] 메소드 순서
- [x] 이해를 위한 코드 전반의 공백 추가
- [x] 메서드 길이가 15자를 넘어가지 않는지 확인
- [x] 필요한 테스트가 되어있는지 확인
- [x] 테스트 클래스 리팩토링
- [x] 의존관계 그려보고 조정하기
- [x] 요구사항 하나씩 줄쳐가면서 빠뜨린 것 없는지 확인
- [x] DateGroup 방식 간소화 또는 enum화
- [x] freeGift NOTHING(Menu.NOTHING, 0) 으로 인한 메뉴 NOTHING 
- [x] "타파스-1,제로콜라-1 " 처럼 앞 뒤 공백 예외처리 안되게
- [x] enum 상수명 영어로 돌려놓기
- [x] 예외 발생시 재입력 적용


# 🧐 고민해볼 주제
- [x] 현재 수준에서 지나친 기능분리가 가독성을 떨어뜨릴 수 있다. 너무 파편화되어있거나 하는 경우!
- [x] 맨 위에 핵심기능 한 문장 작성해놓고, 동작가능한 가장 핵심 기능을 작은 단위로 구현을 가장 먼저 하자!
- [x] order.sumCountWith(count): 디미터 법칙  
- [x] count.calculateAmountForMenu: 디미터 법칙 
- [x] order - count.getCount();: 디미터 법칙 
